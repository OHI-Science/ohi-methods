<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>liv_status</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      OHI Methods 2024 (test)
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../../../index.html" class="sidebar-logo-link">
      <img src="../../../../media/OHI-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../../../../">OHI Methods 2024 (test)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-house" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../OHI-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Theory of OHI</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../OHI-score-anatomy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Brief Anatomy of OHI Scores</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../regions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Regions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../goals/goal-models-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Goal Models and Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../data-layers/data-layer-descriptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Description of Data Layers</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#jobs" id="toc-jobs" class="nav-link active" data-scroll-target="#jobs">Jobs</a></li>
  <li><a href="#wages" id="toc-wages" class="nav-link" data-scroll-target="#wages">Wages</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<p>This layer provides calculated status values for the livelihoods subgoal. Livelihoods is calculated using job and wage data from marine sectors.</p>
<p>Note: These data are no longer supported. Consequently, this layer was last updated in 2013, and this goal will no longer be updated with these data.</p>
<p>Livelihoods status is generally calculated as: (cur_base_value / ref_base_value) / (cur_adj_value / ref_adj_value)</p>
<p>Where, cur_base_value is the most recent value (i.e., jobs or wages) for each sector/region, and ref_base_value is the value for the earliest year of data for each sector/region. These values are adjusted to control for larger trends within the region. For example, jobs data for the livelihoods subgoal was adjusted by dividing by the percent employment of the corresponding year. For wage data, the adjustment was done a bit differently by multiplying wages by GDPpcPPP for each year/region to make wages comparable.</p>
<section id="jobs" class="level3">
<h3 class="anchored" data-anchor-id="jobs">Jobs</h3>
<p>Jobs includes yearly data for commercial fishing, mariculture, marine mammal watching, marine renewable energy, and, tourism. The data sources and methods for each sector are described below.</p>
<p>Percent employment during the current status year for each sector/region is calculated as (1 - percent unemployment)*total labor force (World Bank). Jobs data for the livelihoods subgoal were adjusted by dividing by the percent employment in the corresponding year.</p>
<section id="commercial-fishing" class="level4">
<h4 class="anchored" data-anchor-id="commercial-fishing">Commercial fishing</h4>
<p>Data are from the United Nations Food and Agriculture Organization (FAO) Fisheries and Aquaculture Department which provides a Global Number of Fishers dataset ( <a href="http://www.fao.org/fishery/statistics/global-fishers/en.">http://www.fao.org/fishery/statistics/global-fishers/en</a>). The data include yearly total numbers of employees in commercial fishing, subsistence fishing, and aquaculture (land- and ocean-based combined) in more than 160 countries. The dataset includes the following occupational categories: aquatic-life cultivation, inland waters fishing, marine coastal waters fishing, marine deepsea waters fishing, subsistence and unspecified. We omitted jobs with an unspecified category to avoid overestimating employment for marine fishing or aquaculture. We omitted jobs in the subsistence category since subsistence opportunities are captured by the artisanal fishing opportunity goal and in the aquatic-life cultivation category since that represents a distinct sector (see mariculture below). For commercial fishing, we eliminated inland waters fishing and summed marine coastal waters and marine deep-sea waters fishing for each country in each year. Data are reported separately for men and women, but we summed these numbers. Employment is disaggregated into full-time, parttime, occasional, and unspecified statuses. These categories are defined as full time workers having &gt; 90% of their time or livelihood from fishing/aquaculture, part time workers are between 30-90% time (or 30-90% of their livelihood) and occasional workers are &lt; 30% time. Unspecified status workers could fall anywhere from 0-100% time. Taking the midpoints of those ranges, we assume that 1 part time worker = 0.6 full time workers, 1 occasional worker = 0.15 full time workers, and 1 unspecified worker = 0.5 full time workers, which we used as a weighting scheme for determining total numbers of jobs. The dataset has significant gaps, but it provides the most comprehensive source of global data on commercial fishing and aquaculture employment.</p>
</section>
<section id="mariculture" class="level4">
<h4 class="anchored" data-anchor-id="mariculture">Mariculture</h4>
<p>We used the FAO Global Number of Fishers dataset (see commercial fishing above for full description) to estimate jobs for mariculture. For this sector, we used data in the aquatic-life cultivation category. Again, employment is disaggregated into full-time, part-time, occasional, and unspecified statuses and we implement a weighting scheme where full time = 1 job, part-time = 0.6, occasional = 0.15, and unspecified = 0.5. Aquatic-life cultivation includes marine, brackish and freshwater aquaculture. In order to estimate the proportion of total aquaculture jobs that can be attributed to marine and brackish aquaculture, we used country-specific proportions of marine and brackish aquaculture revenues (compared to total revenues) calculated from FAO aquaculture production data, assuming that numbers of jobs approximately scale with production in terms of revenue. For country-years with no data for the proportion of marine/brackish production because of gaps in the FAO production data, we used the proportion from the most recent year for which data were available. For countries without proportion estimates from any years, we used the average proportion from the country’s geographic region (e.g., Caribbean, Polynesia, Eastern Asia), with the exception of American Samoa, for which we used the proportion value from Guam.</p>
</section>
<section id="marine-mammal-watching" class="level4">
<h4 class="anchored" data-anchor-id="marine-mammal-watching">Marine mammal watching</h4>
<p>The International Fund for Animal Welfare’s (IFAW) Whale Division provides time series data on whale watching in more than 115 coastal countries (O’Connor et al 2009). This dataset may be an imperfect representation of all marine mammal watching due to its focus on whales, although it does include data for other types of marine mammal watching (e.g., dolphins). However, to our knowledge, it is the most complete dataset pertaining to the global marine mammal watching industry. We obtained regional averages of the number of whale watchers per employee, as well as the number of whale watchers in each country. Using this information, we estimated the number of whale watching jobs in each country by dividing the country’s total number of whale watchers by the average number of whale watchers per employee for that country’s region (e.g., Africa &amp; Middle East, Europe, North America). It is important to note that data are not annual, but there are at least four years of data for each country. When IFAW reported “minimal” numbers of whale watchers, we converted this description to a 0 for lack of additional information. Because some of the whale watching in O’Connor et al.&nbsp;focused on freshwater cetacean viewing, we categorized the target species listed for each country as freshwater or marine. For countries with both marine and freshwater species, we categorized the whale watching in those countries as either 50% or 90% marine, based on the number of marine versus freshwater target species and information provided in the report narrative. For Colombia and Indonesia, more detailed information in the report narrative allowed for a more precise determination of the percentage of marine-based whale watching. We applied these marine proportions to data on the number of whale watchers before converting these estimates into employment estimates.</p>
</section>
<section id="marine-renewable-energy" class="level4">
<h4 class="anchored" data-anchor-id="marine-renewable-energy">Marine renewable energy</h4>
<p>The number of marine renewable energy jobs was determined for the two countries, France and Canada, which produce significant enough amounts of tidal energy to register with the UN Energy Statistics Database <a href="http://data.un.org/Data.aspx?d=EDATA&amp;f=cmID%3aEO">http://data.un.org/Data.aspx?d=EDATA&amp;f=cmID%3aEO</a>. For the La Rance plant in France, employment information was obtained from a recent press statement (EDF 2011); we assumed employment stayed constant over the time period for which we had production data for this plant, given relatively consistent or even growing production. For the Annopolis Royal plant in Canada, we received yearly employment information from the plant (Ruth Thorbourne, personal communication, Aug 9 2011).</p>
<p>Marine renewable energy includes five major technologies: tidal barrages, marine currents, waves, ocean thermal converters and salinity gradients. However, we only include data for the largest tidal barrage plants, as these data are available.</p>
</section>
<section id="tourism" class="level4">
<h4 class="anchored" data-anchor-id="tourism">Tourism</h4>
<p>The World Travel &amp; Tourism Council (WTTC) provides data on travel and tourism’s total contribution to employment for 180 countries (<a href="http://www.wttc.org/eng/Tourism_Research/Economic_Data_Search_Tool/">http://www.wttc.org/eng/Tourism_Research/Economic_Data_Search_Tool/</a>). Although other global data sources on tourism are available (i.e., United Nations World Tourism Organization, UNTWO), the WTTC database was chosen because it offers yearly time series data that span through the current year, it includes nearly complete coverage of all nations, and it disaggregates direct and total (direct plus indirect) employment impacts of tourism. WTTC provides projected data, however, we do not use these values. We used total employment data to avoid the use of literature derived multiplier effects. The WTTC shares a significant drawback with UNTWO data, in that data on coastal/marine and inland tourism are lumped. Therefore, a country-specific coefficient must be applied to estimate the jobs provided by coastal/marine tourism alone. We adjusted national tourism data by the proportion of a country’s population that lives within a 25 mile inland coastal zone.</p>
</section>
</section>
<section id="wages" class="level3">
<h3 class="anchored" data-anchor-id="wages">Wages</h3>
<p>Wages were multiplied by GDPpcPPP for each country/year to make values comparable.</p>
<p>We used the Occupational Wages around the World (OWW) database produced by Remco H. Oostendorp and Richard B. Freeman in 2005 (<a href="http://www.nber.org/oww/">http://www.nber.org/oww/</a>). These data were drawn from the International Labour Organization and subjected to a standardization process (for more information, see <a href="http://www.nber.org/oww/Technical%20_document_1983-2003_standardizationv3.pdf">http://www.nber.org/oww/Technical _document_1983-2003_standardizationv3.pdf</a>). The database provides several different calibrations, and we use the “x3wl calibration”, described as a “country-specific and uniform calibration with lexicographic weighting,” and recommended as being the preferred calibration in most cases. Although significant gaps exist in this database, it contains country-specific information on average wages in many industries for more than 150 countries from 1983-2003. Data represent average monthly wages of a male worker. Wage data were divided by the inflation conversion factor for 2010 so that wage data across years would be comparable (<a href="http://oregonstate.edu/cla/polisci/sahr/sahr">http://oregonstate.edu/cla/polisci/sahr/sahr</a>), and then multiplied by the purchasing power parity-adjusted per capita gdp (ppppcgdp, WorldBank). The adjusted wage data were then multiplied by 12 to get annual wages. We used the industry and occupation classifications reported in the OWW to estimate wages for marine-related sectors.</p>
<p><strong>Table 7.6. Occupation classification for wage data sectors</strong></p>
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 87%">
</colgroup>
<thead>
<tr class="header">
<th>Sector</th>
<th>Occupation classifications</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Commercial fishing</td>
<td>Industry: deep sea &amp; coastal fishing; <br>Occupations: deep sea fisher; inshore (coastal) maritime fisherman</td>
</tr>
<tr class="even">
<td>Ports &amp; harbors</td>
<td>Industry: supporting services to maritime transport; <br> Occupation: dock worker</td>
</tr>
<tr class="odd">
<td>Ship &amp; boat building</td>
<td>Industry: shipbuilding and repairing; <br> Occupation: ship plater</td>
</tr>
<tr class="even">
<td>Tourism</td>
<td>Industry: restaurants and hotels; <br> Occupations: hotel receptionist; cook; waiter; room attendant or chambermaid. <br> These data are not specific to coastal/marine tourism jobs, and thus we assumed that wages in these jobs are equal in coastal and non-coastal areas</td>
</tr>
<tr class="odd">
<td>Transportation &amp; shipping</td>
<td>Industry: maritime transport; <br> Occupations: ship’s chief engineer; ship’s passenger stewards; able seaman</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Learn more about the <a href="https://oceanhealthindex.org/" target="_blank">Ocean Health Index</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Source code available on <a href="https://github.com/OHI-Science/ohi-methods/tree/main" target="_blank"><i class="fa-brands fa-github" title="the Github octocat" aria-label="github"></i> Github</a></div>
  </div>
</footer>



</body></html>